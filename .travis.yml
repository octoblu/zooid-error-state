language: node_js
node_js:
- '5'
branches:
  only:
  - "/^v[0-9]/"
before_deploy:
- npm run build
addons:
  code_climate:
    repo_token: c6e97d320536a3a5997ab7dbb1b4a30b3ed670f5142551a6890a75fe31e81a15
before_script:
- npm install -g codeclimate-test-reporter
after_script:
- npm run coverage
- codeclimate-test-reporter < coverage/lcov.info
deploy:
  provider: npm
  email: serveradmin@octoblu.com
  skip_cleanup: true
  on:
    tags: true
